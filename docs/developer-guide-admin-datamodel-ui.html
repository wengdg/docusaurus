<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Admin Data Model UI · RadGrad</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="There are several steps involved in adding a new DataModel item to the admin interface. These steps can be done in any order, but you may want to slowly build up the page and test it as you are adding the new DataModel item."/><meta property="og:title" content="Admin Data Model UI · RadGrad"/><meta property="og:type" content="website"/><meta property="og:url" content="https://radgrad.github.io/docusaurus/index.html"/><meta property="og:description" content="There are several steps involved in adding a new DataModel item to the admin interface. These steps can be done in any order, but you may want to slowly build up the page and test it as you are adding the new DataModel item."/><meta property="og:image" content="https://radgrad.github.io/docusaurus/img/docusaurus.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://radgrad.github.io/docusaurus/img/docusaurus.png"/><link rel="shortcut icon" href="/docusaurus/img/radgrad.ico"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><link rel="alternate" type="application/atom+xml" href="https://radgrad.github.io/docusaurus/blog/atom.xml" title="RadGrad Blog ATOM Feed"/><link rel="alternate" type="application/rss+xml" href="https://radgrad.github.io/docusaurus/blog/feed.xml" title="RadGrad Blog RSS Feed"/><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Nunito"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><link rel="stylesheet" href="/docusaurus/css/main.css"/></head><body class="sideNavVisible doc separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/docusaurus/"><img class="logo" src="/docusaurus/img/radgrad_logo.png" alt="RadGrad"/><h2 class="headerTitleWithLogo">RadGrad</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="/docusaurus/docs/intro-motivation.html" target="_self">Documentation</a></li><li class=""><a href="/docusaurus/en/team2.html" target="_self">Team</a></li><li class=""><a href="/docusaurus/blog" target="_self">News</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><i></i></div><h2><i>›</i><span>Developer Guide</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup navGroupActive"><h3>Introduction</h3><ul><li class="navListItem"><a class="navItem" href="/docusaurus/docs/intro-motivation.html">Motivation</a></li><li class="navListItem"><a class="navItem" href="/docusaurus/docs/intro-goals.html">Goals</a></li><li class="navListItem"><a class="navItem" href="/docusaurus/docs/intro-about.html">About this manual</a></li></ul></div><div class="navGroup navGroupActive"><h3>Developer Guide</h3><ul><li class="navListItem"><a class="navItem" href="/docusaurus/docs/developer-guide-installation.html">Installation</a></li><li class="navListItem"><a class="navItem" href="/docusaurus/docs/developer-guide-ide.html">IDE Setup</a></li><li class="navListItem"><a class="navItem" href="/docusaurus/docs/developer-guide-source-code-organization.html">Source code organization</a></li><li class="navListItem"><a class="navItem" href="/docusaurus/docs/developer-guide-coding-standards.html">Coding Standards</a></li><li class="navListItem"><a class="navItem" href="/docusaurus/docs/developer-guide-testing.html">Testing</a></li><li class="navListItem navListItemActive"><a class="navItem navItemActive" href="/docusaurus/docs/developer-guide-admin-datamodel-ui.html">Admin Data Model UI</a></li><li class="navListItem"><a class="navItem" href="/docusaurus/docs/developer-guide-database-fixtures.html">Database Fixtures</a></li><li class="navListItem"><a class="navItem" href="/docusaurus/docs/developer-guide-continuous-integration.html">Continuous Integration</a></li></ul></div><div class="navGroup navGroupActive"><h3>Data Model</h3><ul><li class="navListItem"><a class="navItem" href="/docusaurus/docs/data-model-overview.html">Overview</a></li><li class="navListItem"><a class="navItem" href="/docusaurus/docs/data-model-class-hierarchy.html">Class Hierarchy</a></li><li class="navListItem"><a class="navItem" href="/docusaurus/docs/data-model-entity-relationship-model.html">Entity-Relationship Model</a></li><li class="navListItem"><a class="navItem" href="/docusaurus/docs/data-model-user-management.html">User Management</a></li><li class="navListItem"><a class="navItem" href="/docusaurus/docs/data-model-ice.html">ICE (Innovation, Competency, Experience)</a></li><li class="navListItem"><a class="navItem" href="/docusaurus/docs/data-model-dump-restore.html">Database Dump-Restore</a></li><li class="navListItem"><a class="navItem" href="/docusaurus/docs/data-model-pub-sub.html">Pub-Sub Caching</a></li><li class="navListItem"><a class="navItem" href="/docusaurus/docs/data-model-integrity-checking.html">Integrity Checking</a></li></ul></div><div class="navGroup navGroupActive"><h3>API</h3><ul><li class="navListItem"><a class="navItem" href="/docusaurus/docs/api-javascript-jsdocs.html">Javascript</a></li></ul></div><div class="navGroup navGroupActive"><h3>Documentation</h3><ul><li class="navListItem"><a class="navItem" href="/docusaurus/docs/documentation-docusaurus.html">Docusaurus</a></li><li class="navListItem"><a class="navItem" href="/docusaurus/docs/documentation-jsdoc.html">JSDoc</a></li></ul></div><div class="navGroup navGroupActive"><h3>Delivery</h3><ul><li class="navListItem"><a class="navItem" href="/docusaurus/docs/delivery-scripts.html">Development scripts</a></li><li class="navListItem"><a class="navItem" href="/docusaurus/docs/delivery-deployment.html">Deployment</a></li><li class="navListItem"><a class="navItem" href="/docusaurus/docs/delivery-cas.html">CAS Authentication</a></li><li class="navListItem"><a class="navItem" href="/docusaurus/docs/delivery-cloudinary.html">Cloudinary Image Service</a></li><li class="navListItem"><a class="navItem" href="/docusaurus/docs/delivery-star-bulk-download.html">Importing bulk STAR data</a></li><li class="navListItem"><a class="navItem" href="/docusaurus/docs/delivery-level-calculation.html">Level Calculation</a></li></ul></div><div class="navGroup navGroupActive"><h3>Analytics</h3><ul><li class="navListItem"><a class="navItem" href="/docusaurus/docs/analytics-overview.html">Overview</a></li></ul></div><div class="navGroup navGroupActive"><h3>Archive</h3><ul><li class="navListItem"><a class="navItem" href="/docusaurus/docs/archive-use-cases.html">Use Cases (Fall 2016)</a></li><li class="navListItem"><a class="navItem" href="/docusaurus/docs/archive-beta-test.html">Beta Test (Spring 2017)</a></li><li class="navListItem"><a class="navItem" href="/docusaurus/docs/archive-radgrad-registration.html">RadGrad Registration</a></li></ul></div></div></section></div><script>
            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              const headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                if (event.target.tagName === 'A') {
                  document.body.classList.remove('tocActive');
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1>Admin Data Model UI</h1></header><article><div><span><p>There are several steps involved in adding a new DataModel item to the admin interface. These steps can be done in any order, but you may want to slowly build up the page and test it as you are adding the new DataModel item.</p>
<ul>
<li><p>Create a new admin DataModel route in <code>app/imports/startup/client/router.js</code></p>
<ol>
<li><p>Export the name of your new route. For this example we are adding the UI for MentorAnswers.</p>
<pre><code class="hljs">export const adminDataModelMentorAnswersPageRouteName = 'Admin_DataModel_Mentor_Answers_Page';
</code></pre></li>
<li><p>Add the route to the FlowRouter admin route group.</p>
<pre><code class="hljs">adminRoutes.route('/datamodel/mentor-answers', {
  name: adminDataModelMentorAnswersPageRouteName,
  action() {
    BlazeLayout.render('Admin_Layout', { main: adminDataModelMentorAnswersPageRouteName });
  },
});
</code></pre></li>
</ol></li>
<li><p>Update <code>app/imports/ui/components/admin/admin-datamodel-menu.html</code> to include a link to the DataModel Blaze Template page.</p>
<pre><code class="hljs">   &lt;a class=&quot;{{isActiveRoute mentorAnswerRouteName}} item&quot; href=&quot;{{pathFor mentorAnswerRouteName username=routeUserName}}&quot;&gt;Mentor Answers&lt;/a&gt;
</code></pre></li>
<li><p>Update <code>app/imports/ui/components/admin/admin-datamodel-menu.js</code> helper to include a helper for the new route.</p>
<pre><code class="hljs">   mentorAnswerRouteName() {
     return RouteNames.adminDataModelMentorAnswersPageRouteName;
   },
</code></pre></li>
<li><p>Create the DataModel Blaze Template page in <code>app/inports/ui/pages/admin</code>. The name of the page must be the same as the exported page route name. In this example, <code>Admin_DataModel_Mentor_Answers_Page</code>.</p>
<ul>
<li><p>The <code>Admin_DataModel_Mentor_Answers_Page.html</code> will look something like:</p>
<pre><code class="hljs"> &lt;template name=&quot;Admin_DataModel_Mentor_Answers_Page&quot;&gt;
 
   {{#if Template.subscriptionsReady}}
     {{#Admin_DataModel_Layout}}
       {{#if displayUpdateWidget}}
         {{&gt; Update_Mentor_Answer_Widget updateID=updateID}}
       {{else}}
         {{&gt; Add_Mentor_Answer_Widget }}
       {{/if}}
       {{&gt; List_Mentor_Answers_Widget updateID=updateID}}
     {{/Admin_DataModel_Layout}}
   {{else}}
     {{&gt; Loading message=&quot;Waiting for subscriptions.&quot;}}
   {{/if}}
 
 &lt;/template&gt;
</code></pre></li>
<li><p>The <code>Admin_DataModel_Mentor_Answers_Page.js</code> will look something like:</p>
<pre><code class="hljs"> import { Template } from 'meteor/templating';
 import { ReactiveVar } from 'meteor/reactive-var';
 
 Template.Admin_DataModel_Mentor_Answers_Page.helpers({
   updateID() {
     return Template.instance().updateID;
   },
   displayUpdateWidget() {
     return Template.instance().updateID.get();
   },
 });
 
 Template.Admin_DataModel_Mentor_Answers_Page.onCreated(function adminDatamodelMentorAnswerPageOnCreated() {
   this.updateID = new ReactiveVar('');
 });
</code></pre></li>
</ul></li>
<li><p>Create the List_Mentor_Answer_Widget in <code>app/imports/ui/components/admin</code>.</p></li>
<li><p>Create the Add_Mentor_Answer_Widget in <code>app/imports/ui/components/admin</code>.</p></li>
<li><p>Create the Update_Mentor_Answer_Widget in <code>app/imports/ui/components/admin</code>.</p></li>
</ul>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="developer-guide-testing.html">← Testing</a><a class="docs-next button" href="developer-guide-database-fixtures.html">Database Fixtures →</a></div></div></div><nav class="onPageNav"></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/docusaurus/" class="nav-home"><img src="/docusaurus/img/radgrad_logo.png" alt="RadGrad" width="66" height="58"/></a><div><h5>Growing awesome computer scientists, one graduate at a time</h5></div><div><h5>Community</h5><a href="http://radgrad.org/">RadGrad.org</a></div><div><h5>Repositories</h5><a href="https://github.com/radgrad" target="_blank" rel="noreferrer noopener">GitHub</a></div></section><section class="copyright">Copyright © 2018 RadGrad</section></footer></div></body></html>